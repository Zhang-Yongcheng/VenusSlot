{"version":3,"sources":["assets\\scripts\\mainController.js"],"names":["PublicSetUp","require","cc","Class","Component","properties","MusicClip","type","AudioClip","onLoad","audio1","store","minBet","maxBet","currentBet","freeGameCnts","FreeTotalPoint","soundEnabled","gameResult","gameResultGotStatus","isGameResultGot","playing","canPlay","mainServer","lobbyServer","gameServer","start","audioEngine","playMusic","assetManager","loadBundle","error","bundle","preloadDir","VideoClip","console","log","account","find","active","getUrlString","location","href","url","URL","searchParams","get","password","update","co","performTick","director","_lastUpdate"],"mappings":"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","sourceRoot":"/","sourcesContent":["import co from './co.cc';\r\nimport connectToServer from './connectToServer';\r\nlet PublicSetUp=require('PublicSetUp');\r\ncc.Class({\r\n  extends: cc.Component,\r\n\r\n  properties: {\r\n    MusicClip: {\r\n      default: null,\r\n      type: cc.AudioClip,\r\n  },\r\n\r\n    AudioClip: {\r\n      default: [],\r\n      type: [cc.AudioClip],\r\n  },\r\n\r\n  },\r\n\r\n  onLoad() {\r\n    // co.enableAutoTick(30);\r\n    PublicSetUp.audio1 = this.AudioClip[0];\r\n    PublicSetUp.MusicClip=this.MusicClip;\r\n    cc.store = {\r\n      type: 0,\r\n      minBet: 0,\r\n      maxBet: 0,\r\n      currentBet: 0,\r\n      freeGameCnts: 0,\r\n      FreeTotalPoint: 0,\r\n      soundEnabled: true,\r\n\r\n      gameResult: {},\r\n      gameResultGotStatus: 0,\r\n      isGameResultGot() {\r\n        return cc.store.gameResultGotStatus === 3;\r\n      },\r\n\r\n      playing: false,\r\n      canPlay() {\r\n        return true;\r\n      },\r\n\r\n      mainServer: null,\r\n      lobbyServer: null,\r\n      gameServer: null\r\n    };\r\n\r\n    // cc.find('Canvas/Game').active = false;\r\n  },\r\n\r\n  start() {\r\n    cc.audioEngine.playMusic(this.MusicClip, true);\r\n\r\n    cc.assetManager.loadBundle('mp4', (error, bundle) => {\r\n      if (!error) {\r\n        bundle.preloadDir('./', cc.VideoClip);\r\n      }\r\n    });\r\n    console.log(PublicSetUp.account);\r\n    cc.find('Canvas/Game').active = false;\r\n    var getUrlString = location.href;\r\n    var url = new URL(getUrlString);   \r\n    PublicSetUp.account=url.searchParams.get('WebToken');\r\n    if(PublicSetUp.account!=null && PublicSetUp.account!=\"\"){\r\n\r\n      connectToServer('213.139.235.73', 6380, url.searchParams.get('WebToken'), PublicSetUp.password,2);\r\n    }else{\r\n      connectToServer('213.139.235.73', 6380, PublicSetUp.account, PublicSetUp.password,0);\r\n    }\r\n\r\n    \r\n  },\r\n\r\n  update() {\r\n    co.performTick(cc.director._lastUpdate);\r\n\r\n  }\r\n});\r\n"]}