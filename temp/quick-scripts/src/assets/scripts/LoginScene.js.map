{"version":3,"sources":["assets\\scripts\\LoginScene.js"],"names":["PublicSetUp","require","loadCount","cc","Class","Component","properties","AudioClip","type","onLoad","audio1","start","getUrlString","location","href","url","URL","account","searchParams","get","console","log","director","loadScene","accountEditBox","find","getComponent","EditBox","passwordEditBox","message","Label","string","okButton","Button","node","on","length","loginType","password","active"],"mappings":";;;;;;AAAA,IAAIA,WAAW,GAACC,OAAO,CAAC,aAAD,CAAvB;;AAGA,IAAIC,SAAS,GAAG,CAAhB;AACAC,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE;AACVC,IAAAA,SAAS,EAAE;AACT,iBAAS,EADA;AAETC,MAAAA,IAAI,EAAE,CAACL,EAAE,CAACI,SAAJ;AAFG;AADD,GAHP;AAUL;AAECE,EAAAA,MAZI,oBAYM;AACTT,IAAAA,WAAW,CAACU,MAAZ,GAAqB,KAAKH,SAAL,CAAe,CAAf,CAArB;AAGA,GAhBG;AAkBLI,EAAAA,KAlBK,mBAkBI;AAEP;AACA,QAAIC,YAAY,GAAGC,QAAQ,CAACC,IAA5B;AACA,QAAIC,GAAG,GAAG,IAAIC,GAAJ,CAAQJ,YAAR,CAAV;AACAZ,IAAAA,WAAW,CAACiB,OAAZ,GAAoBF,GAAG,CAACG,YAAJ,CAAiBC,GAAjB,CAAqB,UAArB,CAApB;AAEAC,IAAAA,OAAO,CAACC,GAAR,CAAY,WAASrB,WAAW,CAACiB,OAArB,GAA6B,MAA7B,GAAoCL,YAAhD;;AACA,QAAGZ,WAAW,CAACiB,OAAZ,IAAqB,IAAxB,EAA6B;AAC3Bd,MAAAA,EAAE,CAACmB,QAAH,CAAYC,SAAZ,CAAsB,MAAtB;AACA;AACD,KAXM,CAcP;;;AACA,QAAIC,cAAc,GAAGrB,EAAE,CAACsB,IAAH,CAAQ,sBAAR,EAAgCC,YAAhC,CAA6CvB,EAAE,CAACwB,OAAhD,CAArB;AACE,QAAIC,eAAe,GAAGzB,EAAE,CAACsB,IAAH,CAAQ,uBAAR,EAAiCC,YAAjC,CAA8CvB,EAAE,CAACwB,OAAjD,CAAtB;AACA,QAAIE,OAAO,GAAG1B,EAAE,CAACsB,IAAH,CAAQ,sBAAR,EAAgCC,YAAhC,CAA6CvB,EAAE,CAAC2B,KAAhD,CAAd;AAEAN,IAAAA,cAAc,CAACO,MAAf,GAAsB,UAAtB;AACAH,IAAAA,eAAe,CAACG,MAAhB,GAAuB,UAAvB;AACA,QAAMC,QAAQ,GAAG7B,EAAE,CAACsB,IAAH,CAAQ,iBAAR,EAA2BC,YAA3B,CAAwCvB,EAAE,CAAC8B,MAA3C,CAAjB;AAEAD,IAAAA,QAAQ,CAACE,IAAT,CAAcC,EAAd,CAAiB,OAAjB,EAA0B,YAAM;AAC9B,UAAIX,cAAc,CAACO,MAAf,CAAsBK,MAAtB,KAAiC,CAAjC,IAAsCR,eAAe,CAACG,MAAhB,CAAuBK,MAAvB,KAAkC,CAA5E,EAA+E;AAC7E;AACD;;AACDpC,MAAAA,WAAW,CAACqC,SAAZ,GAAsB,CAAtB;AACArC,MAAAA,WAAW,CAACiB,OAAZ,GAAoBO,cAAc,CAACO,MAAnC;AACA/B,MAAAA,WAAW,CAACsC,QAAZ,GAAqBV,eAAe,CAACG,MAArC;AACA5B,MAAAA,EAAE,CAACsB,IAAH,CAAQ,aAAR,EAAuBc,MAAvB,GAA8B,IAA9B;AAEApC,MAAAA,EAAE,CAACmB,QAAH,CAAYC,SAAZ,CAAsB,MAAtB;AACD,KAVD;AAeH,GAxDI,CA0DL;;AA1DK,CAAT","sourceRoot":"/","sourcesContent":["let PublicSetUp=require('PublicSetUp');\r\n\r\n\r\nlet loadCount = 0;\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n      AudioClip: {\r\n        default: [],\r\n        type: [cc.AudioClip],\r\n    },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n     onLoad () {\r\n      PublicSetUp.audio1 = this.AudioClip[0];\r\n\r\n   \r\n     },\r\n\r\n    start () {\r\n\r\n      //Token登入\r\n      var getUrlString = location.href;\r\n      var url = new URL(getUrlString);   \r\n      PublicSetUp.account=url.searchParams.get('WebToken');\r\n\r\n      console.log('token:'+PublicSetUp.account+\"url:\"+getUrlString);\r\n      if(PublicSetUp.account!=null){\r\n        cc.director.loadScene('slot');\r\n        return;\r\n      }\r\n\r\n\r\n      //帳號登入\r\n      let accountEditBox = cc.find(\"Canvas/Login/Account\").getComponent(cc.EditBox);\r\n        let passwordEditBox = cc.find(\"Canvas/Login/Password\").getComponent(cc.EditBox);\r\n        let message = cc.find(\"Canvas/Login/message\").getComponent(cc.Label);\r\n\r\n        accountEditBox.string='gtest001';\r\n        passwordEditBox.string='gtest001'\r\n        const okButton = cc.find(\"Canvas/Login/Ok\").getComponent(cc.Button);\r\n\r\n        okButton.node.on('click', () => {\r\n          if (accountEditBox.string.length === 0 || passwordEditBox.string.length === 0) {\r\n            return;\r\n          }\r\n          PublicSetUp.loginType=0;\r\n          PublicSetUp.account=accountEditBox.string;\r\n          PublicSetUp.password=passwordEditBox.string;\r\n          cc.find(\"Canvas/lock\").active=true;\r\n          \r\n          cc.director.loadScene('slot');\r\n        });\r\n       \r\n      \r\n        \r\n        \r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}