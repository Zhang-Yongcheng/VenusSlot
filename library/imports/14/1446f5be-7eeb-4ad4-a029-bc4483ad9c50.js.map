{"version":3,"sources":["assets\\scripts\\mainController.js"],"names":["PublicSetUp","require","cc","Class","Component","properties","MusicClip","type","AudioClip","onLoad","i","length","audio","name","store","minBet","maxBet","cardPot","cardRatio","cardcnts","currentBet","freeGameCnts","FreeTotalPoint","Heart","VideoIdx","soundEnabled","gameResult","gameResultGotStatus","isGameResultGot","playing","auto","canPlay","mainServer","lobbyServer","gameServer","start","document","oncontextmenu","Function","audioEngine","playMusic","assetManager","loadBundle","error","bundle","preloadDir","VideoClip","find","active","getUrlString","location","href","url","URL","account","searchParams","get","password","update","co","performTick","director","_lastUpdate"],"mappings":";;;;;;AAAA;;AACA;;;;AACA,IAAIA,WAAW,GAACC,OAAO,CAAC,aAAD,CAAvB;;AAEAC,EAAE,CAACC,KAAH,CAAS;AACP,aAASD,EAAE,CAACE,SADL;AAGPC,EAAAA,UAAU,EAAE;AACVC,IAAAA,SAAS,EAAE;AACT,iBAAS,IADA;AAETC,MAAAA,IAAI,EAAEL,EAAE,CAACM;AAFA,KADD;AAMVA,IAAAA,SAAS,EAAE;AACT,iBAAS,EADA;AAETD,MAAAA,IAAI,EAAE,CAACL,EAAE,CAACM,SAAJ;AAFG;AAND,GAHL;AAgBPC,EAAAA,MAhBO,oBAgBE;AACP;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKF,SAAL,CAAeG,MAAnC,EAA2CD,CAAC,EAA5C,EAAgD;AAC9CV,MAAAA,WAAW,CAACY,KAAZ,CAAkB,KAAKJ,SAAL,CAAeE,CAAf,EAAkBG,IAApC,IAA4C,KAAKL,SAAL,CAAeE,CAAf,CAA5C;AACH;;AACCV,IAAAA,WAAW,CAACM,SAAZ,GAAsB,KAAKA,SAA3B;AACAJ,IAAAA,EAAE,CAACY,KAAH,GAAW;AACTP,MAAAA,IAAI,EAAE,CADG;AAETQ,MAAAA,MAAM,EAAE,CAFC;AAGTC,MAAAA,MAAM,EAAE,CAHC;AAITC,MAAAA,OAAO,EAAC,CAJC;AAKTC,MAAAA,SAAS,EAAC,CALD;AAMTC,MAAAA,QAAQ,EAAC,CANA;AAOTC,MAAAA,UAAU,EAAE,CAPH;AAQTC,MAAAA,YAAY,EAAE,CARL;AASTC,MAAAA,cAAc,EAAE,CATP;AAUTC,MAAAA,KAAK,EAAC,CAVG;AAWTC,MAAAA,QAAQ,EAAC,CAXA;AAYTC,MAAAA,YAAY,EAAE,IAZL;AAcTC,MAAAA,UAAU,EAAE,EAdH;AAeTC,MAAAA,mBAAmB,EAAE,CAfZ;AAgBTC,MAAAA,eAhBS,6BAgBS;AAChB,eAAO1B,EAAE,CAACY,KAAH,CAASa,mBAAT,KAAiC,CAAxC;AACD,OAlBQ;AAoBTE,MAAAA,OAAO,EAAE,KApBA;AAqBTC,MAAAA,IAAI,EAAC,KArBI;AAsBTC,MAAAA,OAtBS,qBAsBC;AACR,eAAO,IAAP;AACD,OAxBQ;AA0BTC,MAAAA,UAAU,EAAE,IA1BH;AA2BTC,MAAAA,WAAW,EAAE,IA3BJ;AA4BTC,MAAAA,UAAU,EAAE;AA5BH,KAAX,CANO,CAqCP;AACD,GAtDM;AAwDPC,EAAAA,KAxDO,mBAwDC;AACNC,IAAAA,QAAQ,CAACC,aAAT,GAAyB,IAAIC,QAAJ,CAAa,cAAb,CAAzB;AACApC,IAAAA,EAAE,CAACqC,WAAH,CAAeC,SAAf,CAAyB,KAAKlC,SAA9B,EAAyC,IAAzC;AAEAJ,IAAAA,EAAE,CAACuC,YAAH,CAAgBC,UAAhB,CAA2B,KAA3B,EAAkC,UAACC,KAAD,EAAQC,MAAR,EAAmB;AACnD,UAAI,CAACD,KAAL,EAAY;AACVC,QAAAA,MAAM,CAACC,UAAP,CAAkB,IAAlB,EAAwB3C,EAAE,CAAC4C,SAA3B;AACD;AACF,KAJD;AAOA5C,IAAAA,EAAE,CAAC6C,IAAH,CAAQ,aAAR,EAAuBC,MAAvB,GAAgC,KAAhC;AACA,QAAIC,YAAY,GAAGC,QAAQ,CAACC,IAA5B;AACA,QAAIC,GAAG,GAAG,IAAIC,GAAJ,CAAQJ,YAAR,CAAV;;AACA,QAAGjD,WAAW,CAACsD,OAAZ,IAAqB,EAAxB,EAA2B;AACzBtD,MAAAA,WAAW,CAACsD,OAAZ,GAAoBF,GAAG,CAACG,YAAJ,CAAiBC,GAAjB,CAAqB,UAArB,CAApB;AACA,uCAAgB,gBAAhB,EAAkC,IAAlC,EAAwCJ,GAAG,CAACG,YAAJ,CAAiBC,GAAjB,CAAqB,UAArB,CAAxC,EAA0ExD,WAAW,CAACyD,QAAtF,EAA+F,CAA/F;AACD,KAHD,MAGK;AACH,uCAAgB,gBAAhB,EAAkC,IAAlC,EAAwCzD,WAAW,CAACsD,OAApD,EAA6DtD,WAAW,CAACyD,QAAzE,EAAkF,CAAlF;AACD;AAGF,GA9EM;AAgFPC,EAAAA,MAhFO,oBAgFE;AACPC,mBAAGC,WAAH,CAAe1D,EAAE,CAAC2D,QAAH,CAAYC,WAA3B;AAED;AAnFM,CAAT","sourceRoot":"/","sourcesContent":["import co from './co.cc';\r\nimport connectToServer from './connectToServer';\r\nlet PublicSetUp=require('PublicSetUp');\r\n\r\ncc.Class({\r\n  extends: cc.Component,\r\n\r\n  properties: {\r\n    MusicClip: {\r\n      default: null,\r\n      type: cc.AudioClip,\r\n  },\r\n\r\n    AudioClip: {\r\n      default: [],\r\n      type: [cc.AudioClip],\r\n  },\r\n\r\n  },\r\n\r\n  onLoad() {\r\n    // co.enableAutoTick(30);\r\n    for (let i = 0; i < this.AudioClip.length; i++) {\r\n      PublicSetUp.audio[this.AudioClip[i].name] = this.AudioClip[i];\r\n  }\r\n    PublicSetUp.MusicClip=this.MusicClip;\r\n    cc.store = {\r\n      type: 0,\r\n      minBet: 0,\r\n      maxBet: 0,\r\n      cardPot:0,\r\n      cardRatio:0,\r\n      cardcnts:0,\r\n      currentBet: 0,\r\n      freeGameCnts: 0,\r\n      FreeTotalPoint: 0,\r\n      Heart:0,\r\n      VideoIdx:0,\r\n      soundEnabled: true,\r\n\r\n      gameResult: {},\r\n      gameResultGotStatus: 0,\r\n      isGameResultGot() {\r\n        return cc.store.gameResultGotStatus === 3;\r\n      },\r\n\r\n      playing: false,\r\n      auto:false,\r\n      canPlay() {\r\n        return true;\r\n      },\r\n\r\n      mainServer: null,\r\n      lobbyServer: null,\r\n      gameServer: null\r\n    };\r\n\r\n    // cc.find('Canvas/Game').active = false;\r\n  },\r\n\r\n  start() {\r\n    document.oncontextmenu = new Function(\"return false\");\r\n    cc.audioEngine.playMusic(this.MusicClip, true);\r\n\r\n    cc.assetManager.loadBundle('mp4', (error, bundle) => {\r\n      if (!error) {\r\n        bundle.preloadDir('./', cc.VideoClip);\r\n      }\r\n    });\r\n\r\n\r\n    cc.find('Canvas/Game').active = false;\r\n    var getUrlString = location.href;\r\n    var url = new URL(getUrlString);  \r\n    if(PublicSetUp.account==\"\"){\r\n      PublicSetUp.account=url.searchParams.get('WebToken');\r\n      connectToServer('213.139.235.73', 6380, url.searchParams.get('WebToken'), PublicSetUp.password,2);\r\n    }else{\r\n      connectToServer('213.139.235.73', 6380, PublicSetUp.account, PublicSetUp.password,0);\r\n    }\r\n    \r\n\r\n  },\r\n\r\n  update() {\r\n    co.performTick(cc.director._lastUpdate);\r\n\r\n  }\r\n});\r\n"]}