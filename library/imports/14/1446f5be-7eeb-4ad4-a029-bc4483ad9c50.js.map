{"version":3,"sources":["assets\\scripts\\mainController.js"],"names":["PublicSetUp","require","cc","Class","Component","properties","MusicClip","type","AudioClip","onLoad","audio1","store","minBet","maxBet","currentBet","freeGameCnts","FreeTotalPoint","Heart","VideoIdx","soundEnabled","gameResult","gameResultGotStatus","isGameResultGot","playing","auto","canPlay","mainServer","lobbyServer","gameServer","start","audioEngine","playMusic","assetManager","loadBundle","error","bundle","preloadDir","VideoClip","find","active","getUrlString","location","href","url","URL","account","searchParams","get","password","update","co","performTick","director","_lastUpdate"],"mappings":"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","sourceRoot":"/","sourcesContent":["import co from './co.cc';\r\nimport connectToServer from './connectToServer';\r\nlet PublicSetUp=require('PublicSetUp');\r\n\r\ncc.Class({\r\n  extends: cc.Component,\r\n\r\n  properties: {\r\n    MusicClip: {\r\n      default: null,\r\n      type: cc.AudioClip,\r\n  },\r\n\r\n    AudioClip: {\r\n      default: [],\r\n      type: [cc.AudioClip],\r\n  },\r\n\r\n  },\r\n\r\n  onLoad() {\r\n    // co.enableAutoTick(30);\r\n    PublicSetUp.audio1 = this.AudioClip[0];\r\n    PublicSetUp.MusicClip=this.MusicClip;\r\n    cc.store = {\r\n      type: 0,\r\n      minBet: 0,\r\n      maxBet: 0,\r\n      currentBet: 0,\r\n      freeGameCnts: 0,\r\n      FreeTotalPoint: 0,\r\n      Heart:0,\r\n      VideoIdx:0,\r\n      soundEnabled: true,\r\n\r\n      gameResult: {},\r\n      gameResultGotStatus: 0,\r\n      isGameResultGot() {\r\n        return cc.store.gameResultGotStatus === 3;\r\n      },\r\n\r\n      playing: false,\r\n      auto:false,\r\n      canPlay() {\r\n        return true;\r\n      },\r\n\r\n      mainServer: null,\r\n      lobbyServer: null,\r\n      gameServer: null\r\n    };\r\n\r\n    // cc.find('Canvas/Game').active = false;\r\n  },\r\n\r\n  start() {\r\n    cc.audioEngine.playMusic(this.MusicClip, true);\r\n\r\n    cc.assetManager.loadBundle('mp4', (error, bundle) => {\r\n      if (!error) {\r\n        bundle.preloadDir('./', cc.VideoClip);\r\n      }\r\n    });\r\n\r\n    cc.find('Canvas/Game').active = false;\r\n    var getUrlString = location.href;\r\n    var url = new URL(getUrlString);  \r\n    if(PublicSetUp.account==\"\"){\r\n      PublicSetUp.account=url.searchParams.get('WebToken');\r\n      connectToServer('213.139.235.73', 6380, url.searchParams.get('WebToken'), PublicSetUp.password,2);\r\n    }else{\r\n      connectToServer('213.139.235.73', 6380, PublicSetUp.account, PublicSetUp.password,0);\r\n    }\r\n    \r\n\r\n  },\r\n\r\n  update() {\r\n    co.performTick(cc.director._lastUpdate);\r\n\r\n  }\r\n});\r\n"]}