{"version":3,"sources":["assets\\scripts\\mainController.js"],"names":["PublicSetUp","require","cc","Class","Component","properties","MusicClip","type","AudioClip","onLoad","callback","timeout","unschedule","message","find","getComponent","show","schedule","i","length","audio","name","store","minBet","maxBet","cardPot","cardRatio","cardcnts","currentBet","freeGameCnts","FreeTotalPoint","Heart","VideoIdx","soundEnabled","BonusGame","bonusGameQuestion","bonusGameClick","bonusGameWinTime","gameResult","gameResultGotStatus","isGameResultGot","playing","keepAutoState","auto","test","canPlay","mainServer","lobbyServer","gameServer","start","document","oncontextmenu","Function","audioEngine","playMusic","assetManager","loadBundle","error","bundle","preloadDir","VideoClip","active","getUrlString","location","href","url","URL","account","searchParams","get","password","update","co","performTick","director","_lastUpdate"],"mappings":"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","sourceRoot":"/","sourcesContent":["import co from './co.cc';\nimport connectToServer from './connectToServer';\nlet PublicSetUp=require('PublicSetUp');\n\ncc.Class({\n  extends: cc.Component,\n\n  properties: {\n    MusicClip: {\n      default: null,\n      type: cc.AudioClip,\n  },\n\n    AudioClip: {\n      default: [],\n      type: [cc.AudioClip],\n  },\n\n  },\n\n  onLoad() {\n    this.callback = function () {\n      if(PublicSetUp.timeout>20){\n\n        this.unschedule(this.callback);\n        let message=cc.find('Canvas/Game/message').getComponent(\"message\");\n        message.show(1);\n    }\n    PublicSetUp.timeout++;\n\n  }\n    this.schedule(this.callback, 1);\n\n    // co.enableAutoTick(30);\n    for (let i = 0; i < this.AudioClip.length; i++) {\n      PublicSetUp.audio[this.AudioClip[i].name] = this.AudioClip[i];\n  }\n    PublicSetUp.MusicClip=this.MusicClip;\n    cc.store = {\n      type: 0,\n      minBet: 0,\n      maxBet: 0,\n      cardPot:0,\n      cardRatio:0,\n      cardcnts:0,\n      currentBet: 0,\n      freeGameCnts: 0,\n      FreeTotalPoint: 0,\n      Heart:0,\n      VideoIdx:0,\n      soundEnabled: true,\n      BonusGame: 0,\n      bonusGameQuestion: 0,\n      bonusGameClick: 'right',\n      bonusGameWinTime: 0,\n\n      gameResult: {},\n      gameResultGotStatus: 0,\n      isGameResultGot() {\n        return cc.store.gameResultGotStatus === 3;\n      },\n\n      playing: false,\n      keepAutoState: false,\n      auto:false,\n      test:0,\n      canPlay() {\n        return true;\n      },\n\n      mainServer: null,\n      lobbyServer: null,\n      gameServer: null\n    };\n\n    // cc.find('Canvas/Game').active = false;\n  },\n\n  start() {\n    document.oncontextmenu = new Function(\"return false\");\n    cc.audioEngine.playMusic(this.MusicClip, true);\n\n    cc.assetManager.loadBundle('mp4', (error, bundle) => {\n      if (!error) {\n        bundle.preloadDir('./', cc.VideoClip);\n      }\n    });\n\n\n    cc.find('Canvas/Game').active = false;\n    var getUrlString = location.href;\n    var url = new URL(getUrlString);  \n    if(PublicSetUp.account==\"\"){\n      PublicSetUp.account=url.searchParams.get('WebToken');\n      connectToServer('213.139.235.73', 6380, url.searchParams.get('WebToken'), PublicSetUp.password,2);\n    }else{\n      connectToServer('213.139.235.73', 6380, PublicSetUp.account, PublicSetUp.password,0);\n    }\n    \n\n  },\n\n  update() {\n    co.performTick(cc.director._lastUpdate);\n\n  }\n});\n"]}