{"version":3,"sources":["assets\\scripts\\incBetButton.js"],"names":["isTouch","touchTime","cc","Class","Component","onLoad","button","node","getComponent","Button","on","currentBetValue","find","Label","currentBet","parseFloat","string","store","maxBet","minBet","userPoints","message","show","Node","EventType","TOUCH_START","touchStart","TOUCH_END","touchEnd","Date","touchHold","touchHoldTime","millisecons","getTime","update"],"mappings":"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","sourceRoot":"/","sourcesContent":["\nlet isTouch;\nlet touchTime;\ncc.Class({\n  extends: cc.Component,\n\n  onLoad() {\n    const button = this.node.getComponent(cc.Button);\n    button.node.on('click', () => {\n      const currentBetValue = cc.find('Canvas/Game/Machine/UpUI/MenuPanel/BetPanel/Value').getComponent(cc.Label);\n      const currentBet = parseFloat(currentBetValue.string);\n      if(currentBet>cc.store.maxBet){\n        currentBetValue.string=cc.store.currentBet=cc.store.maxBet;\n      }\n      if (currentBet >= cc.store.minBet && currentBet < cc.store.maxBet) {\n        if(cc.store.userPoints>=currentBet + 10){\n          currentBetValue.string = cc.store.currentBet = currentBet + 10;\n        }else{\n          let message=cc.find('Canvas/Game/message').getComponent(\"message\");\n          message.show(0);\n        }\n        \n        // if(currentBet<=0.9){\n        //   currentBetValue.string = cc.store.currentBet =parseFloat((currentBet + 0.1).toPrecision(12)) ;\n        // }else if(currentBet<=9){\n        //   currentBetValue.string = cc.store.currentBet = currentBet + 1;\n        // }else{\n        //   currentBetValue.string = cc.store.currentBet = currentBet + 10;\n        // }\n        \n      }\n    });\n\n  isTouch=false\n  touchTime=null;\n  button.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this);\n\n  button.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this);\n  },\n  touchStart(){\n    isTouch=true;\n    touchTime=new Date();\n  },\n\n  touchHold(){\n    if(isTouch && touchTime!=null){\n      let touchHoldTime=new Date();\n      let millisecons=touchHoldTime.getTime()-touchTime.getTime();\n      if(millisecons>300){\n        isTouch=true;\n        const currentBetValue = cc.find('Canvas/Game/Machine/UpUI/MenuPanel/BetPanel/Value').getComponent(cc.Label);\n        const currentBet = parseFloat(currentBetValue.string);\n        if (currentBet >= cc.store.minBet && currentBet < cc.store.maxBet) {\n          if(cc.store.userPoints>=currentBet + 10){\n            currentBetValue.string = cc.store.currentBet = currentBet + 10;\n          }else{\n            let message=cc.find('Canvas/Game/message').getComponent(\"message\");\n            message.show(0);\n          }\n          \n \n          \n        }\n      }\n    }\n  },\n\n  touchEnd(){\n    isTouch=false;\n    touchTime=null;\n  },\n\n  update() {\n \n   if(isTouch){\n     this.touchHold();\n   }\n\n  }\n\n});\n"]}