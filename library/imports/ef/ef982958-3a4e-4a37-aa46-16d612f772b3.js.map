{"version":3,"sources":["assets\\scripts\\LoginScene.js"],"names":["PublicSetUp","require","loadCount","cc","Class","Component","properties","AudioClip","type","onLoad","audio1","start","getUrlString","location","href","url","URL","searchParams","get","find","active","director","loadScene","accountEditBox","getComponent","EditBox","passwordEditBox","message","Label","string","okButton","Button","node","on","length","loginType","account","password"],"mappings":";;;;;;AAAA,IAAIA,WAAW,GAACC,OAAO,CAAC,aAAD,CAAvB;;AAGA,IAAIC,SAAS,GAAG,CAAhB;AACAC,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE;AACVC,IAAAA,SAAS,EAAE;AACT,iBAAS,EADA;AAETC,MAAAA,IAAI,EAAE,CAACL,EAAE,CAACI,SAAJ;AAFG;AADD,GAHP;AAUL;AAECE,EAAAA,MAZI,oBAYM;AACTT,IAAAA,WAAW,CAACU,MAAZ,GAAqB,KAAKH,SAAL,CAAe,CAAf,CAArB;AAIA,GAjBG;AAmBLI,EAAAA,KAnBK,mBAmBI;AAEP;AACA,QAAIC,YAAY,GAAGC,QAAQ,CAACC,IAA5B;AACA,QAAIC,GAAG,GAAG,IAAIC,GAAJ,CAAQJ,YAAR,CAAV;;AAEA,QAAGG,GAAG,CAACE,YAAJ,CAAiBC,GAAjB,CAAqB,UAArB,KAAkC,IAArC,EAA0C;AACxCf,MAAAA,EAAE,CAACgB,IAAH,CAAQ,cAAR,EAAwBC,MAAxB,GAA+B,KAA/B;AACAjB,MAAAA,EAAE,CAACkB,QAAH,CAAYC,SAAZ,CAAsB,MAAtB;AACA;AACD,KAVM,CAYP;;;AACA,QAAIC,cAAc,GAAGpB,EAAE,CAACgB,IAAH,CAAQ,sBAAR,EAAgCK,YAAhC,CAA6CrB,EAAE,CAACsB,OAAhD,CAArB;AACE,QAAIC,eAAe,GAAGvB,EAAE,CAACgB,IAAH,CAAQ,uBAAR,EAAiCK,YAAjC,CAA8CrB,EAAE,CAACsB,OAAjD,CAAtB;AACA,QAAIE,OAAO,GAAGxB,EAAE,CAACgB,IAAH,CAAQ,sBAAR,EAAgCK,YAAhC,CAA6CrB,EAAE,CAACyB,KAAhD,CAAd;AAEAL,IAAAA,cAAc,CAACM,MAAf,GAAsB,UAAtB;AACAH,IAAAA,eAAe,CAACG,MAAhB,GAAuB,UAAvB;AACA,QAAMC,QAAQ,GAAG3B,EAAE,CAACgB,IAAH,CAAQ,iBAAR,EAA2BK,YAA3B,CAAwCrB,EAAE,CAAC4B,MAA3C,CAAjB;AAEAD,IAAAA,QAAQ,CAACE,IAAT,CAAcC,EAAd,CAAiB,OAAjB,EAA0B,YAAM;AAC9B,UAAIV,cAAc,CAACM,MAAf,CAAsBK,MAAtB,KAAiC,CAAjC,IAAsCR,eAAe,CAACG,MAAhB,CAAuBK,MAAvB,KAAkC,CAA5E,EAA+E;AAC7E;AACD;;AACDlC,MAAAA,WAAW,CAACmC,SAAZ,GAAsB,CAAtB;AACAnC,MAAAA,WAAW,CAACoC,OAAZ,GAAoBb,cAAc,CAACM,MAAnC;AACA7B,MAAAA,WAAW,CAACqC,QAAZ,GAAqBX,eAAe,CAACG,MAArC;AACA1B,MAAAA,EAAE,CAACgB,IAAH,CAAQ,aAAR,EAAuBC,MAAvB,GAA8B,IAA9B;AAEAjB,MAAAA,EAAE,CAACkB,QAAH,CAAYC,SAAZ,CAAsB,MAAtB;AACD,KAVD;AAeH,GAvDI,CAyDL;;AAzDK,CAAT","sourceRoot":"/","sourcesContent":["let PublicSetUp=require('PublicSetUp');\r\n\r\n\r\nlet loadCount = 0;\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n      AudioClip: {\r\n        default: [],\r\n        type: [cc.AudioClip],\r\n    },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n     onLoad () {\r\n      PublicSetUp.audio1 = this.AudioClip[0];\r\n\r\n\r\n   \r\n     },\r\n\r\n    start () {\r\n\r\n      //Token登入\r\n      var getUrlString = location.href;\r\n      var url = new URL(getUrlString);   \r\n\r\n      if(url.searchParams.get('WebToken')!=null){\r\n        cc.find(\"Canvas/Login\").active=false\r\n        cc.director.loadScene('slot');\r\n        return;\r\n      }\r\n\r\n      //帳號登入\r\n      let accountEditBox = cc.find(\"Canvas/Login/Account\").getComponent(cc.EditBox);\r\n        let passwordEditBox = cc.find(\"Canvas/Login/Password\").getComponent(cc.EditBox);\r\n        let message = cc.find(\"Canvas/Login/message\").getComponent(cc.Label);\r\n\r\n        accountEditBox.string='gtest001';\r\n        passwordEditBox.string='gtest001'\r\n        const okButton = cc.find(\"Canvas/Login/Ok\").getComponent(cc.Button);\r\n\r\n        okButton.node.on('click', () => {\r\n          if (accountEditBox.string.length === 0 || passwordEditBox.string.length === 0) {\r\n            return;\r\n          }\r\n          PublicSetUp.loginType=0;\r\n          PublicSetUp.account=accountEditBox.string;\r\n          PublicSetUp.password=passwordEditBox.string;\r\n          cc.find(\"Canvas/lock\").active=true;\r\n          \r\n          cc.director.loadScene('slot');\r\n        });\r\n       \r\n      \r\n        \r\n        \r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}