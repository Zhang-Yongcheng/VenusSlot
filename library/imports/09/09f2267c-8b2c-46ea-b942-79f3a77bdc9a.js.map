{"version":3,"sources":["assets\\scripts\\playAll.js"],"names":["playAll","PublicSetUp","require","addFloat","mulFloat","num1","num2","m","s1","toString","s2","split","length","e","Number","replace","Math","pow","r1","r2","max","cols","i","push","co","start","sound","cc","audioEngine","playEffect","audio","waitForAll","store","gameResult","type","iLine","iFrame","freeGameNCnts","WinPointLine","WinTotalPoint","heart","VideoIdx","lastLine","score","find","getComponent","t","Label","string","floor","run","lines","playMusic","MusicClip","cardRatio","cardcnts","cardObj","show","ProgressBar","progress","heartObj","anim","auto","keepAutoState","play","waitForSeconds","_total","freeSpinTotal","FreeTotalPoint","UIOff","active","userPoints","currentBet"],"mappings":"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","sourceRoot":"/","sourcesContent":["import co from './co.cc';\nimport playLine from './playLine';\nimport playSymbolCol from './playSymbolCol';\nimport playVideo from './playVideo';\nlet PublicSetUp=require('PublicSetUp');\n\n\nexport default function* playAll() {\n\n\n  function addFloat(num1,num2){\n    var r1, r2, m;\n    try{ \n        r1 = num1.toString().split(\".\")[1].length; \n    }catch(e){\n        r1 = 0; \n    }\n    try{\n        r2 = num2.toString().split(\".\")[1].length;\n    } catch(e){\n        r2 = 0;\n    }\n    m = Math.pow(10, Math.max(r1, r2));\n    return (mulFloat(num1, m) + mulFloat(num2, m)) / m;\n  }\n  function mulFloat(num1,num2){\n    var m = 0, s1 = num1.toString(), s2 = num2.toString();\n    try{ \n        m += s1.split(\".\")[1].length; \n    }catch(e){ }\n    try{\n        m += s2.toString().split(\".\")[1].length;\n    } catch(e){ }\n \n    return Number(s1.replace(\".\", \"\")) * Number(s2.replace(\".\", \"\")) / Math.pow(10, m);\n}\n  // 1\n  const cols = [];\n  for (let i = 0; i < 5; i++) {\n    cols.push(\n      co.start(function* () {\n\n        yield playSymbolCol(i, 3.0);\n\n      })\n    );\n  }\n\nif(PublicSetUp.sound==1){\n            \n  cc.audioEngine.playEffect(PublicSetUp.audio[\"0024\"], false);\n}\n  yield co.waitForAll(cols);\n  const {type, iLine, iFrame,freeGameNCnts, WinPointLine, WinTotalPoint ,heart,VideoIdx} = cc.store.gameResult;\n\n  // 2\n  let lastLine = -1;\n  for (let i = 9 - 1; i >= 0; i--) {\n    if (iLine[i] === 1) {\n      lastLine = i;\n      break;\n    }\n  }\n  let score=cc.find('Canvas/Game/score').getComponent(\"score\");\n  if (lastLine > -1) {\n    let t =1;\n    for (let i = 0; i < 9; i++) {\n      if (iLine[i] === 1) {\n        cc.find('Canvas/Game/Machine/UI/PointScore/GameScore/Value').getComponent(cc.Label).string = Math.floor(cc.store.gameResult.WinPointLine[i]);\n        if(t>3){\n          t=1;\n        }\n        score.run(t,Math.floor(cc.store.gameResult.WinPointLine[i]));\n        t++;\n        if(PublicSetUp.sound==1){\n            \n          cc.audioEngine.playEffect(PublicSetUp.audio[\"0022\"], false);\n        }\n        yield playLine(i, iFrame[i], true, i === lastLine, 4.5, 1000);\n\n      }\n    }\n\n    // 3\n    const lines = [];\n    for (let i = 0; i < 9; i++) {\n      if (iLine[i] === 1) {\n        lines.push(\n          co.start(function* () {\n            yield playLine(i, iFrame[i], false, false, 4.5, 1500);\n\n          })\n        );\n      }\n    }\n    cc.find('Canvas/Game/Machine/UI/PointScore/GameScore/Value').getComponent(cc.Label).string = Math.floor(cc.store.gameResult.WinTotalPoint);\n\n    yield co.waitForAll(lines);\n\n    // 4\n    if (lines.length >= 2) {\n      yield playVideo('random',0);\n\n\n      if(PublicSetUp.sound==1){\n        cc.audioEngine.playMusic(PublicSetUp.MusicClip, true);\n      }\n      \n      \n    }\n  }\n\n  if(cc.store.cardRatio>=1 && cc.store.cardcnts>=1){\n    let cardObj=cc.find('Canvas/Game/Card/cardback').getComponent(\"card\");\n    cardObj.show();\n    cc.store.cardRatio=0;\n    cc.find('Canvas/Game/Card/ProgressBar').getComponent(cc.ProgressBar).progress = cc.store.cardRatio;\n  }\n  \n\n    let heartObj=cc.find('Canvas/Game/heartPanel').getComponent(\"heart\");\n    heartObj.show(heart);\n\n\n    if(VideoIdx!=null && VideoIdx!=0){\n      yield playVideo('index',VideoIdx);\n    }\n\n\n    if(freeGameNCnts[0]==2){\n      yield playVideo('card',1);\n    }\n    //freeSpin\n    let anim = cc.find('Canvas/Game/FreeSpin').getComponent(\"freeSpinAnim\");\n    //if(freeGameNCnts[0]==1 && cc.store.type==0){\n    if(freeGameNCnts[0]==1 && cc.store.type==0){\n      //有中免費遊戲(第一次)\n      \n      if(cc.store.auto==false){\n        //如果目前不是自動\n        //則結束後改手動\n        cc.store.type=3;\n      }else{\n        cc.store.type=2;\n      }\n      // 儲存玩家當前為手動或自動\n      cc.store.keepAutoState = cc.store.auto\n      cc.store.auto=true;\n      anim.play();\n      yield co.waitForSeconds(3.1);\n      cc.find('Canvas/Game/Machine/UI/FreeSpinsPanel/cnt').getComponent(cc.Label).string=freeGameNCnts[1];\n      \n    }else if(type==2){\n      //如果目前是免費遊戲\n      cc.find('Canvas/Game/Machine/UI/FreeSpinsPanel/cnt').getComponent(cc.Label).string=freeGameNCnts[2];\n      let _total =addFloat(PublicSetUp.freeSpinTotal,cc.store.gameResult.WinTotalPoint);    \n      PublicSetUp.freeSpinTotal=_total;\n      cc.find('Canvas/Game/Machine/UI/FreeSpinsPanel/total').getComponent(cc.Label).string=Math.floor(PublicSetUp.freeSpinTotal);\n      if(freeGameNCnts[2]==0){\n        cc.store.type=1;\n      }\n    }\n    \n    if(cc.store.type==1){\n      //最後一次\n      cc.store.type=0;\n      if(cc.store.FreeTotalPoint!=null){\n        cc.find('Canvas/Game/Machine/UI/FreeSpinsPanel/total').getComponent(cc.Label).string=Math.floor(cc.store.FreeTotalPoint);\n      }\n      \n      yield co.waitForSeconds(2);     \n      anim.UIOff();\n      PublicSetUp.freeSpinTotal=0\n      if(cc.store.type==3){\n        cc.store.auto=false;\n      }\n      if (cc.store.keepAutoState === false) {\n        cc.find('Canvas/Game/Machine/UpUI/MenuPanel/ButtonPanel/AutoPlayButton').active=false;\n        cc.find('Canvas/Game/Machine/UpUI/MenuPanel/ButtonPanel/ManuaPlayButton').active=true;\n        cc.store.auto=false;\n      } else {\n        cc.find('Canvas/Game/Machine/UpUI/MenuPanel/ButtonPanel/AutoPlayButton').active=true;\n        cc.find('Canvas/Game/Machine/UpUI/MenuPanel/ButtonPanel/ManuaPlayButton').active=false;\n      }\n    }\n\n    if(cc.store.userPoints<cc.store.currentBet){\n      cc.store.auto=false;\n    }\n\n\n  cc.find('Canvas/Game/Machine/UI/PointScore/GameScore/Value').getComponent(cc.Label).string = 0;\n\n  // update user points\n  cc.find('Canvas/Game/Machine/UI/PointScore/GamePoint/Value').getComponent(cc.Label).string = Math.floor(cc.store.userPoints);\n}\n"]}