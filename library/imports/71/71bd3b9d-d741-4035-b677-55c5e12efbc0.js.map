{"version":3,"sources":["assets\\scripts\\decBetButton.js"],"names":["isTouch","touchTime","cc","Class","Component","onLoad","button","node","getComponent","Button","on","currentBetValue","find","Label","currentBet","parseFloat","string","store","minBet","maxBet","Node","EventType","TOUCH_START","touchStart","TOUCH_END","touchEnd","Date","touchHold","touchHoldTime","millisecons","getTime","update"],"mappings":";;;;;;AAAA,IAAIA,OAAJ;AACA,IAAIC,SAAJ;AAEAC,EAAE,CAACC,KAAH,CAAS;AACP,aAASD,EAAE,CAACE,SADL;AAGPC,EAAAA,MAHO,oBAGE;AACP,QAAMC,MAAM,GAAG,KAAKC,IAAL,CAAUC,YAAV,CAAuBN,EAAE,CAACO,MAA1B,CAAf;AACAH,IAAAA,MAAM,CAACC,IAAP,CAAYG,EAAZ,CAAe,OAAf,EAAwB,YAAM;AAC5B,UAAMC,eAAe,GAAGT,EAAE,CAACU,IAAH,CAAQ,mDAAR,EAA6DJ,YAA7D,CAA0EN,EAAE,CAACW,KAA7E,CAAxB;AACA,UAAMC,UAAU,GAAGC,UAAU,CAACJ,eAAe,CAACK,MAAjB,CAA7B;;AACA,UAAGF,UAAU,GAACZ,EAAE,CAACe,KAAH,CAASC,MAAvB,EAA8B;AAC5BP,QAAAA,eAAe,CAACK,MAAhB,GAAuBd,EAAE,CAACe,KAAH,CAASH,UAAT,GAAoBZ,EAAE,CAACe,KAAH,CAASC,MAApD;AACD;;AACD,UAAIJ,UAAU,GAAGZ,EAAE,CAACe,KAAH,CAASC,MAAtB,IAAgCJ,UAAU,IAAIZ,EAAE,CAACe,KAAH,CAASE,MAA3D,EAAmE;AACjER,QAAAA,eAAe,CAACK,MAAhB,GAAyBd,EAAE,CAACe,KAAH,CAASH,UAAT,GAAsBA,UAAU,GAAG,EAA5D,CADiE,CAEjE;AACA;AACA;AACA;AACA;AACA;AACA;AACD;AACF,KAhBD;AAiBAd,IAAAA,OAAO,GAAC,KAAR;AACAC,IAAAA,SAAS,GAAC,IAAV;AACAK,IAAAA,MAAM,CAACC,IAAP,CAAYG,EAAZ,CAAeR,EAAE,CAACkB,IAAH,CAAQC,SAAR,CAAkBC,WAAjC,EAA6C,KAAKC,UAAlD,EAA6D,IAA7D;AAEAjB,IAAAA,MAAM,CAACC,IAAP,CAAYG,EAAZ,CAAeR,EAAE,CAACkB,IAAH,CAAQC,SAAR,CAAkBG,SAAjC,EAA2C,KAAKC,QAAhD,EAAyD,IAAzD;AACD,GA3BM;AA6BPF,EAAAA,UA7BO,wBA6BK;AACVvB,IAAAA,OAAO,GAAC,IAAR;AACAC,IAAAA,SAAS,GAAC,IAAIyB,IAAJ,EAAV;AACD,GAhCM;AAkCPC,EAAAA,SAlCO,uBAkCI;AACT,QAAG3B,OAAO,IAAIC,SAAS,IAAE,IAAzB,EAA8B;AAC5B,UAAI2B,aAAa,GAAC,IAAIF,IAAJ,EAAlB;AACA,UAAIG,WAAW,GAACD,aAAa,CAACE,OAAd,KAAwB7B,SAAS,CAAC6B,OAAV,EAAxC;;AACA,UAAGD,WAAW,GAAC,GAAf,EAAmB;AACjB7B,QAAAA,OAAO,GAAC,IAAR;AACA,YAAMW,eAAe,GAAGT,EAAE,CAACU,IAAH,CAAQ,mDAAR,EAA6DJ,YAA7D,CAA0EN,EAAE,CAACW,KAA7E,CAAxB;AACA,YAAMC,UAAU,GAAGC,UAAU,CAACJ,eAAe,CAACK,MAAjB,CAA7B;;AACA,YAAIF,UAAU,GAAGZ,EAAE,CAACe,KAAH,CAASC,MAAtB,IAAgCJ,UAAU,IAAIZ,EAAE,CAACe,KAAH,CAASE,MAA3D,EAAmE;AACjER,UAAAA,eAAe,CAACK,MAAhB,GAAyBd,EAAE,CAACe,KAAH,CAASH,UAAT,GAAsBA,UAAU,GAAG,EAA5D;AAGD;AACF;AACF;AACF,GAjDM;AAmDPW,EAAAA,QAnDO,sBAmDG;AACRzB,IAAAA,OAAO,GAAC,KAAR;AACAC,IAAAA,SAAS,GAAC,IAAV;AACD,GAtDM;AAwDP8B,EAAAA,MAxDO,oBAwDE;AAER,QAAG/B,OAAH,EAAW;AACT,WAAK2B,SAAL;AACD;AAED;AA9DM,CAAT","sourceRoot":"/","sourcesContent":["let isTouch;\nlet touchTime;\n\ncc.Class({\n  extends: cc.Component,\n\n  onLoad() {\n    const button = this.node.getComponent(cc.Button);\n    button.node.on('click', () => {\n      const currentBetValue = cc.find('Canvas/Game/Machine/UpUI/MenuPanel/BetPanel/Value').getComponent(cc.Label);\n      const currentBet = parseFloat(currentBetValue.string);\n      if(currentBet<cc.store.minBet){\n        currentBetValue.string=cc.store.currentBet=cc.store.minBet;\n      }\n      if (currentBet > cc.store.minBet && currentBet <= cc.store.maxBet) {\n        currentBetValue.string = cc.store.currentBet = currentBet - 10;\n        // if(currentBet<=1){\n        //   currentBetValue.string = cc.store.currentBet = parseFloat((currentBet - 0.1).toPrecision(12)) ;\n        // }else if(currentBet<=10){\n        //   currentBetValue.string = cc.store.currentBet = currentBet - 1;\n        // }else{\n        //   currentBetValue.string = cc.store.currentBet = currentBet - 10;\n        // }\n      }\n    });\n    isTouch=false\n    touchTime=null;\n    button.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this);\n  \n    button.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this);\n  },\n\n  touchStart(){\n    isTouch=true;\n    touchTime=new Date();\n  },\n\n  touchHold(){\n    if(isTouch && touchTime!=null){\n      let touchHoldTime=new Date();\n      let millisecons=touchHoldTime.getTime()-touchTime.getTime();\n      if(millisecons>300){\n        isTouch=true;\n        const currentBetValue = cc.find('Canvas/Game/Machine/UpUI/MenuPanel/BetPanel/Value').getComponent(cc.Label);\n        const currentBet = parseFloat(currentBetValue.string);\n        if (currentBet > cc.store.minBet && currentBet <= cc.store.maxBet) {\n          currentBetValue.string = cc.store.currentBet = currentBet - 10;\n \n          \n        }\n      }\n    }\n  },\n\n  touchEnd(){\n    isTouch=false;\n    touchTime=null;\n  },\n\n  update() {\n \n   if(isTouch){\n     this.touchHold();\n   }\n\n  }\n\n});\n"]}