{"version":3,"sources":["assets\\scripts\\decBetButton.js"],"names":["isTouch","touchTime","cc","Class","Component","onLoad","button","node","getComponent","Button","on","currentBetValue","find","Label","currentBet","parseFloat","string","store","minBet","maxBet","Node","EventType","TOUCH_START","touchStart","TOUCH_END","touchEnd","Date","touchHold","touchHoldTime","millisecons","getTime","update"],"mappings":";;;;;;AAAA,IAAIA,OAAJ;AACA,IAAIC,SAAJ;AAEAC,EAAE,CAACC,KAAH,CAAS;AACP,aAASD,EAAE,CAACE,SADL;AAGPC,EAAAA,MAHO,oBAGE;AACP,QAAMC,MAAM,GAAG,KAAKC,IAAL,CAAUC,YAAV,CAAuBN,EAAE,CAACO,MAA1B,CAAf;AACAH,IAAAA,MAAM,CAACC,IAAP,CAAYG,EAAZ,CAAe,OAAf,EAAwB,YAAM;AAC5B,UAAMC,eAAe,GAAGT,EAAE,CAACU,IAAH,CAAQ,uCAAR,EAAiDJ,YAAjD,CAA8DN,EAAE,CAACW,KAAjE,CAAxB;AACA,UAAMC,UAAU,GAAGC,UAAU,CAACJ,eAAe,CAACK,MAAjB,CAA7B;;AACA,UAAGF,UAAU,GAACZ,EAAE,CAACe,KAAH,CAASC,MAAvB,EAA8B;AAC5BP,QAAAA,eAAe,CAACK,MAAhB,GAAuBd,EAAE,CAACe,KAAH,CAASH,UAAT,GAAoBZ,EAAE,CAACe,KAAH,CAASC,MAApD;AACD;;AACD,UAAIJ,UAAU,GAAGZ,EAAE,CAACe,KAAH,CAASC,MAAtB,IAAgCJ,UAAU,IAAIZ,EAAE,CAACe,KAAH,CAASE,MAA3D,EAAmE;AACjER,QAAAA,eAAe,CAACK,MAAhB,GAAyBd,EAAE,CAACe,KAAH,CAASH,UAAT,GAAsBA,UAAU,GAAG,EAA5D,CADiE,CAEjE;AACA;AACA;AACA;AACA;AACA;AACA;AACD;AACF,KAhBD;AAiBAd,IAAAA,OAAO,GAAC,KAAR;AACAC,IAAAA,SAAS,GAAC,IAAV;AACAK,IAAAA,MAAM,CAACC,IAAP,CAAYG,EAAZ,CAAeR,EAAE,CAACkB,IAAH,CAAQC,SAAR,CAAkBC,WAAjC,EAA6C,KAAKC,UAAlD,EAA6D,IAA7D;AAEAjB,IAAAA,MAAM,CAACC,IAAP,CAAYG,EAAZ,CAAeR,EAAE,CAACkB,IAAH,CAAQC,SAAR,CAAkBG,SAAjC,EAA2C,KAAKC,QAAhD,EAAyD,IAAzD;AACD,GA3BM;AA6BPF,EAAAA,UA7BO,wBA6BK;AACVvB,IAAAA,OAAO,GAAC,IAAR;AACAC,IAAAA,SAAS,GAAC,IAAIyB,IAAJ,EAAV;AACD,GAhCM;AAkCPC,EAAAA,SAlCO,uBAkCI;AACT,QAAG3B,OAAO,IAAIC,SAAS,IAAE,IAAzB,EAA8B;AAC5B,UAAI2B,aAAa,GAAC,IAAIF,IAAJ,EAAlB;AACA,UAAIG,WAAW,GAACD,aAAa,CAACE,OAAd,KAAwB7B,SAAS,CAAC6B,OAAV,EAAxC;;AACA,UAAGD,WAAW,GAAC,GAAf,EAAmB;AACjB7B,QAAAA,OAAO,GAAC,IAAR;AACA,YAAMW,eAAe,GAAGT,EAAE,CAACU,IAAH,CAAQ,uCAAR,EAAiDJ,YAAjD,CAA8DN,EAAE,CAACW,KAAjE,CAAxB;AACA,YAAMC,UAAU,GAAGC,UAAU,CAACJ,eAAe,CAACK,MAAjB,CAA7B;;AACA,YAAIF,UAAU,GAAGZ,EAAE,CAACe,KAAH,CAASC,MAAtB,IAAgCJ,UAAU,IAAIZ,EAAE,CAACe,KAAH,CAASE,MAA3D,EAAmE;AACjER,UAAAA,eAAe,CAACK,MAAhB,GAAyBd,EAAE,CAACe,KAAH,CAASH,UAAT,GAAsBA,UAAU,GAAG,EAA5D;AAGD;AACF;AACF;AACF,GAjDM;AAmDPW,EAAAA,QAnDO,sBAmDG;AACRzB,IAAAA,OAAO,GAAC,KAAR;AACAC,IAAAA,SAAS,GAAC,IAAV;AACD,GAtDM;AAwDP8B,EAAAA,MAxDO,oBAwDE;AAER,QAAG/B,OAAH,EAAW;AACT,WAAK2B,SAAL;AACD;AAED;AA9DM,CAAT","sourceRoot":"/","sourcesContent":["let isTouch;\r\nlet touchTime;\r\n\r\ncc.Class({\r\n  extends: cc.Component,\r\n\r\n  onLoad() {\r\n    const button = this.node.getComponent(cc.Button);\r\n    button.node.on('click', () => {\r\n      const currentBetValue = cc.find('Canvas/Game/Machine/UI/BetPanel/Value').getComponent(cc.Label);\r\n      const currentBet = parseFloat(currentBetValue.string);\r\n      if(currentBet<cc.store.minBet){\r\n        currentBetValue.string=cc.store.currentBet=cc.store.minBet;\r\n      }\r\n      if (currentBet > cc.store.minBet && currentBet <= cc.store.maxBet) {\r\n        currentBetValue.string = cc.store.currentBet = currentBet - 10;\r\n        // if(currentBet<=1){\r\n        //   currentBetValue.string = cc.store.currentBet = parseFloat((currentBet - 0.1).toPrecision(12)) ;\r\n        // }else if(currentBet<=10){\r\n        //   currentBetValue.string = cc.store.currentBet = currentBet - 1;\r\n        // }else{\r\n        //   currentBetValue.string = cc.store.currentBet = currentBet - 10;\r\n        // }\r\n      }\r\n    });\r\n    isTouch=false\r\n    touchTime=null;\r\n    button.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this);\r\n  \r\n    button.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this);\r\n  },\r\n\r\n  touchStart(){\r\n    isTouch=true;\r\n    touchTime=new Date();\r\n  },\r\n\r\n  touchHold(){\r\n    if(isTouch && touchTime!=null){\r\n      let touchHoldTime=new Date();\r\n      let millisecons=touchHoldTime.getTime()-touchTime.getTime();\r\n      if(millisecons>300){\r\n        isTouch=true;\r\n        const currentBetValue = cc.find('Canvas/Game/Machine/UI/BetPanel/Value').getComponent(cc.Label);\r\n        const currentBet = parseFloat(currentBetValue.string);\r\n        if (currentBet > cc.store.minBet && currentBet <= cc.store.maxBet) {\r\n          currentBetValue.string = cc.store.currentBet = currentBet - 10;\r\n \r\n          \r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  touchEnd(){\r\n    isTouch=false;\r\n    touchTime=null;\r\n  },\r\n\r\n  update() {\r\n \r\n   if(isTouch){\r\n     this.touchHold();\r\n   }\r\n\r\n  }\r\n\r\n});\r\n"]}