{"version":3,"sources":["assets\\scripts\\playSymbolCol.js"],"names":["playSymbolCol","PublicSetUp","require","colIndex","speed","cols","cc","find","col","getChildByName","spacing","children","y","dist0","childrenCount","dist","t0","co","currentRuntime","lastTickTime","dt","dy","store","isGameResultGot","redist","baseY","redist2","newDist","movedDist","t1"],"mappings":"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","sourceRoot":"/","sourcesContent":["import co from './co.cc';\nlet PublicSetUp=require('PublicSetUp');\nexport default function* playSymbolCol(colIndex, speed) {\n  const cols = cc.find('Canvas/Game/Machine/Performance/Cols');\n  const col = cols.getChildByName(`${colIndex + 1}`);\n\n  const spacing = col.children[1].y - col.children[0].y;\n  let dist0 = col.children[col.childrenCount - 3].y - col.children[0].y;\n  let dist = dist0;\n  let t0 = co.currentRuntime.lastTickTime;\n  let dt = 0;\n\n  while (true) {\n\n    const dy = speed * dt;\n\n    if (dy >= spacing) {\n      dy = speed * ((1 / 60) * 1000);\n    }\n\n    if (dy >= dist) {\n      if (cc.store.isGameResultGot() === true) {\n        if (col.redist > 0) {\n          col.y = col.baseY;\n          dy -= dist;\n          dist0 = col.children[col.redist].y - col.children[0].y;\n          dist = dist0;\n          col.redist = 0;\n        } else {\n          dy = dist;\n        }\n      } else {\n        col.y = col.baseY;\n        dy -= dist;\n        dist = dist0;\n      }\n    } else {\n      if (col.redist2 > 0) {\n        // dist0 = (col.children[col.redist2].y - col.children[0].y) - Math.abs(col.y - col.baseY);\n        const newDist = col.children[col.redist2].y - col.children[0].y;\n        const movedDist = dist0 - dist;\n        dist0 = newDist - movedDist;\n        dist = dist0;\n        col.redist2 = 0;\n\n      }\n    }\n    dist -= dy;\n    col.y -= dy;\n\n    yield;\n\n    if (dist <= 0) {\n      break;\n    }\n\n    const t1 = co.currentRuntime.lastTickTime;\n    dt = t1 - t0;\n    t0 = t1;\n  }\n}\n"]}